title pix
.model small
.stack 64
.data

REFRESH DB 1 ;Cuando es 1 el programa vuelve a pintar el fondo, las nubes y a kirby
LASTTIME DB	?
COUNTER DB 30H,'$'
TEXT	DB 'HOLA'
POSFX	DW  0
POSFY	DW  0
EXIT	DB 0
;Label donde esta toda la información de una imagen	
KIRBY LABEL WORD
KX	dw	80 ;Largo en px
KY	dw	114 ;Alto en px
kposx	dw	64 ;Posicion en X de la esquina superior izquierda
kposy	dw	70	;Posicion en Y de la esquina superior izuiqerda
kirbyd
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,7,247,155,155,155,155,155,155,155,155,155,155,155,164,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,164,82,73,0,0,0,0,10,73,73,73,73,73,82,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,7,155,164,164,155,82,0,0,0,0,0,0,0,91,164,247,247,173,172,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,247,73,73,73,73,0,0,0,0,0,0,0,73,164,7,48,48,48,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,164,0,0,0,0,0,0,0,0,0,0,10,82,247,7,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,7,247,165,82,0,0,0,0,0,0,0,0,0,10,100,164,7,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,164,91,73,0,0,0,0,0,0,0,0,0,0,82,7,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,247,164,91,82,0,0,0,0,0,0,0,0,0,0,0,82,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,82,0,0,0,0,0,0,0,0,0,0,0,0,0,0,74,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,155,48,48,8,8,8,8,8,8,8,8,8,8,7,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,73,0,0,0,0,0,0,0,0,0,0,0,0,155,7,48,48,8,155,82,73,73,73,73,73,73,73,73,82,247,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,73,0,0,0,0,0,0,0,0,0,0,0,0,164,48,48,48,8,155,73,0,0,0,0,0,0,0,0,0,164,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,7,247,73,0,0,0,0,0,0,0,0,0,0,0,0,164,48,48,7,247,91,73,0,0,0,0,0,0,0,0,0,155,247,237,237,7,8,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,173,82,73,0,0,0,0,0,0,0,0,0,0,0,0,0,164,48,8,82,73,0,0,0,0,0,0,0,0,0,0,0,0,73,73,73,82,7,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,164,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,155,7,247,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,247,7,8,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,164,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,82,247,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,164,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,164,7,8,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,164,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,155,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,164,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,7,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,164,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,164,247,8,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,228,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,82,155,7,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,8,8,8,7,164,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,82,247,8,8,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,91,73,73,73,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,82,247,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,7,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,0,73,247,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,7,164,155,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,155,164,164,164,164,164,164,164,164,164,164,7,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,247,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,247,8,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,7,247,155,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,82,91,155,155,155,7,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,247,155,82,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,164,7,8,8,8,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,165,91,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,247,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,247,91,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,82,91,155,247,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,247,155,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,82,247,8,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,7,7,7,7,7,7,7,7,7,7,164,82,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,164,247,7,7,7,7,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,8,82,73,73,73,73,73,73,73,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,73,73,82,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,8,91,82,82,82,82,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,82,82,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,7,7,7,7,7,8,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,8,7,8,8,8,164,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,182,182,91,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,73,73,82,247,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,8,8,8,8,8,8,8,247,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,73,73,0,0,0,0,0,0,0,10,191,182,91,82,10,10,10,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,172,8,8,48,48,48,48,48,48,48
db 48,48,48,48,48,48,7,91,82,82,82,82,82,82,82,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,164,182,173,73,0,0,0,0,0,0,10,191,191,182,182,182,182,182,173,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,81,82,91,48,48,48,48,48,48,48
db 48,48,48,48,48,48,247,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,173,191,191,73,0,0,0,0,0,0,10,191,191,191,191,191,191,191,191,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,8,48,48,48,48,48,48
db 48,8,7,7,7,8,247,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,91,182,173,73,0,0,0,0,0,0,10,191,191,191,191,191,191,191,182,82,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,82,82,82,82,82,82,73,82,8,48,48,48,48,48,48
db 48,91,73,73,82,82,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,82,18,0,0,0,0,0,0,0,10,191,191,191,191,191,191,191,191,182,173,82,73,0,0,0,0,0,0,0,0,0,0,0,73,7,7,7,7,7,7,7,7,48,48,48,48,48,48,48
db 8,82,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,0,0,0,0,0,0,73,73,73,73,0,0,0,0,0,10,191,191,191,191,191,191,191,191,191,182,91,82,73,0,0,0,0,0,0,73,73,73,73,82,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,7,7,164,91,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,91,173,173,73,0,0,0,0,91,173,182,182,173,91,82,0,0,0,10,191,191,191,191,191,191,191,191,191,191,182,182,182,91,0,0,0,73,164,247,7,7,7,7,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,247,155,73,73,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,100,191,191,82,0,0,0,0,164,191,191,191,182,100,91,73,73,73,82,182,191,191,191,191,191,191,191,191,191,191,191,182,100,73,73,0,73,247,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,8,7,247,247,247,164,73,0,0,0,0,0,0,0,0,0,0,0,0,91,191,191,173,100,91,18,73,164,191,191,91,91,164,164,247,247,247,165,91,91,173,182,191,191,191,191,191,182,173,91,91,164,247,164,73,73,247,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,8,82,0,0,0,0,0,0,0,0,0,0,0,0,155,191,191,191,191,100,82,73,164,191,182,73,73,164,237,8,0,0,7,82,73,100,182,191,191,191,191,191,191,91,82,73,164,8,245,73,73,165,7,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,8,7,82,0,0,0,0,0,0,0,0,0,0,0,0,155,191,191,191,191,109,91,82,164,191,182,73,73,164,7,0,0,0,8,73,0,91,173,182,191,191,191,191,182,91,73,73,164,48,8,82,82,247,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,7,164,91,73,0,0,0,0,0,0,0,0,0,0,0,0,155,191,191,191,191,182,109,100,182,191,182,73,73,164,7,0,0,0,8,73,0,82,82,91,173,191,191,91,91,82,0,0,164,48,48,247,247,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,247,82,73,0,0,0,0,0,0,0,0,0,0,0,0,0,155,191,191,191,191,191,191,191,191,191,182,82,73,164,237,48,48,48,8,82,0,10,10,10,164,191,182,82,10,0,0,0,164,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,8,164,164,164,164,164,164,164,164,164,155,73,0,0,0,0,82,100,100,91,100,173,182,191,191,191,191,100,100,173,182,8,8,8,191,100,100,100,100,100,182,191,191,100,91,82,0,0,164,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,7,73,0,0,0,0,0,0,0,0,73,91,109,191,191,191,191,191,191,191,191,191,191,191,191,191,191,191,191,191,191,191,191,191,182,91,73,73,164,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,245,172,73,0,0,0,0,0,0,0,10,18,92,101,173,182,191,191,191,191,191,191,191,191,191,191,191,191,191,191,191,191,191,191,173,173,164,91,82,247,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,247,82,73,0,0,0,0,0,0,0,10,46,46,28,19,82,164,191,191,191,191,191,191,191,191,191,191,191,191,191,191,191,191,191,182,82,82,173,7,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,247,82,73,73,82,73,73,0,0,10,18,46,47,37,19,10,100,182,182,182,182,182,191,191,191,191,191,191,191,191,191,191,191,182,182,82,82,173,7,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,7,155,155,155,155,91,82,0,10,19,28,46,47,38,28,19,100,100,108,100,100,109,182,191,191,191,191,191,191,191,191,191,182,109,164,155,155,164,164,247,7,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,8,8,247,91,10,19,46,47,47,47,47,47,46,28,10,10,10,10,100,173,191,191,191,191,191,191,191,191,191,100,10,82,7,7,155,82,82,164,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,7,164,155,73,19,46,38,47,47,47,47,55,28,0,0,64,73,91,164,182,182,182,182,182,182,182,182,182,99,73,146,7,7,156,82,18,164,7,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,82,73,81,146,218,81,10,10,47,47,47,47,55,28,0,0,218,218,137,73,73,10,10,10,10,10,10,10,73,145,218,218,81,82,28,46,46,27,74,82,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,7,82,72,81,146,218,145,72,73,37,46,46,47,55,28,0,72,218,218,145,73,72,72,72,72,72,72,72,72,72,145,218,218,72,0,28,46,55,27,0,82,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,247,82,73,145,218,218,218,218,218,218,146,73,10,27,37,55,28,0,72,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,72,0,28,46,55,27,0,82,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,247,73,0,146,218,218,218,218,218,218,218,72,0,19,3,55,28,10,73,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,72,0,28,46,55,27,0,82,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,247,73,0,146,218,218,218,218,218,218,218,72,0,19,37,55,38,37,28,73,73,145,218,218,218,218,218,218,218,218,218,218,218,218,218,72,10,28,46,55,27,0,82,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,247,73,0,146,218,218,218,218,218,218,218,72,0,19,37,47,47,46,38,10,0,145,153,218,218,218,218,218,218,218,218,218,218,218,218,72,0,28,46,55,27,0,82,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,247,73,64,210,218,218,218,218,218,218,218,72,0,19,37,47,47,55,46,18,10,81,154,218,218,218,218,218,218,218,218,218,218,218,218,73,10,28,46,55,27,0,82,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,247,73,0,64,73,81,153,218,218,218,218,72,0,19,37,55,47,47,47,38,37,27,10,73,72,72,72,72,72,72,72,72,72,72,73,38,38,46,47,47,27,0,82,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,8,247,82,10,10,73,81,146,218,218,218,218,73,10,27,3,46,47,47,47,47,47,28,10,10,0,0,0,0,0,0,0,0,0,0,10,47,47,47,47,47,28,0,82,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,7,164,91,164,109,109,109,109,91,82,73,73,73,81,247,247,100,92,19,29,47,47,47,47,38,29,28,29,29,29,29,29,29,29,29,29,29,37,47,47,28,19,19,10,0,82,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,247,91,73,91,191,191,191,191,100,91,73,0,0,73,7,48,247,91,10,20,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,46,19,10,0,0,0,82,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,247,155,73,91,191,191,191,191,182,109,100,82,0,73,8,48,247,91,10,10,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,19,10,0,0,0,0,82,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,247,155,73,91,191,191,191,191,191,191,191,100,0,73,8,48,247,91,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,0,0,73,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,247,155,73,91,191,191,191,191,191,191,191,164,73,82,8,48,247,91,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,82,7,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,247,155,73,91,191,191,191,191,182,173,173,164,155,164,48,48,247,91,0,73,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,73,73,0,0,82,91,164,247,247,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,247,155,73,91,191,191,191,191,100,91,82,164,8,48,48,48,247,91,73,145,218,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,218,73,72,73,164,8,182,82,82,247,7,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,247,155,73,82,247,247,247,247,155,82,73,164,48,48,245,247,155,82,0,73,145,145,145,145,145,145,145,145,145,145,145,145,145,145,145,145,145,145,145,145,73,0,0,164,191,182,10,73,247,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,247,155,73,137,218,218,218,218,145,73,73,164,48,8,82,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,164,191,182,10,73,247,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,7,247,164,91,73,145,218,218,218,218,145,145,73,155,237,247,19,18,18,18,18,18,18,18,18,18,18,18,18,18,18,10,0,0,10,10,18,18,18,18,18,10,0,0,0,155,182,173,73,81,164,247,7,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,8,82,73,82,146,218,218,218,218,218,218,218,218,209,145,73,18,38,46,46,46,46,46,46,46,46,46,46,46,46,46,46,38,10,0,28,37,47,46,46,46,46,46,19,10,0,145,219,218,217,145,73,73,82,164,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,8,82,0,72,145,217,209,209,209,209,209,209,209,209,137,0,10,38,47,47,47,47,47,47,47,47,47,47,47,47,47,47,46,10,0,28,38,55,47,47,47,47,46,19,10,0,137,218,218,209,209,72,64,0,164,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,8,82,0,81,154,226,218,218,218,218,218,218,218,218,82,0,10,38,47,47,47,47,47,47,47,47,47,47,47,47,47,47,46,10,0,28,38,55,47,47,47,47,38,19,10,0,137,218,218,218,218,73,73,73,164,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,8,82,10,91,100,190,191,191,191,191,190,191,191,191,109,10,10,38,47,47,47,47,47,47,47,47,47,47,47,47,47,47,46,10,0,28,38,47,47,47,47,47,38,19,10,0,137,218,218,182,182,91,74,73,247,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,8,82,10,91,109,191,191,191,191,182,173,182,191,191,100,0,10,38,47,47,47,47,47,47,47,47,47,47,47,47,47,47,46,10,0,28,38,47,47,47,47,47,38,28,18,10,81,153,154,191,182,91,73,73,247,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,8,82,10,91,109,191,191,191,182,82,18,91,173,191,100,0,10,38,47,47,47,47,47,47,47,47,47,47,47,47,47,47,46,10,0,28,38,47,47,47,47,47,47,38,38,38,27,73,82,191,182,91,73,73,247,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,8,82,10,91,109,191,191,191,182,73,0,91,100,182,100,0,10,38,47,47,47,47,47,47,47,47,47,47,47,47,47,47,46,10,0,28,38,47,47,47,47,47,47,47,47,47,27,0,19,191,182,91,73,73,247,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,8,82,0,91,109,191,191,191,182,73,0,0,73,82,10,0,10,38,47,47,47,47,47,47,47,47,47,47,47,47,47,47,46,10,0,28,38,47,47,47,47,47,47,47,47,47,27,0,19,191,182,91,73,73,172,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,8,82,73,91,100,182,191,191,182,82,73,0,0,0,0,0,10,38,47,47,47,47,47,47,47,47,47,47,47,47,47,47,46,10,0,28,38,47,47,47,47,47,47,47,47,47,27,0,19,182,182,91,73,81,172,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,247,164,164,100,91,91,91,91,100,164,91,82,0,18,27,28,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,46,10,0,28,38,47,47,47,47,47,47,47,47,47,27,0,10,92,100,156,164,164,7,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,8,7,164,91,82,10,10,82,173,7,164,91,10,19,37,46,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,46,10,0,28,38,47,47,47,47,47,47,47,47,47,27,0,0,18,83,165,238,7,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,8,247,155,82,73,73,82,182,7,247,155,10,27,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,46,10,0,28,38,47,47,47,47,47,47,47,47,47,19,10,10,0,73,247,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,7,7,7,7,247,91,82,82,10,0,19,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,46,10,0,28,38,47,47,47,47,47,47,47,47,47,38,38,37,10,73,247,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,73,0,0,0,0,19,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,46,10,0,28,38,47,47,47,47,47,47,47,47,47,47,47,46,10,73,247,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,73,0,10,19,28,37,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,46,10,0,28,38,47,47,47,47,47,47,47,47,47,47,47,46,10,73,247,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,73,0,19,37,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,46,10,0,28,38,47,47,47,47,47,47,47,47,47,47,47,46,10,73,247,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,73,0,19,37,55,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,38,28,28,0,0,28,38,47,47,47,47,47,47,47,47,47,47,47,46,10,73,247,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,73,0,19,37,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,55,28,10,10,0,0,28,38,47,47,47,47,47,47,47,47,47,47,47,38,10,73,247,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,73,0,19,37,47,47,47,47,47,47,47,47,47,47,47,47,47,47,38,38,37,92,91,82,0,0,28,38,47,47,47,47,47,47,47,47,47,47,46,28,10,91,247,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,73,0,19,37,47,47,47,47,47,47,47,47,47,47,47,47,47,47,29,28,27,92,164,155,0,0,28,38,55,47,47,47,47,47,47,47,47,47,38,19,10,164,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,73,0,19,37,47,47,47,47,47,47,47,47,47,47,47,47,47,47,28,10,10,164,8,7,73,0,28,38,55,47,47,47,47,47,47,47,47,55,37,10,73,7,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,73,0,19,37,47,47,47,47,47,47,47,47,47,47,47,47,38,38,92,83,82,164,48,8,73,0,19,37,38,38,38,38,38,38,38,38,38,38,28,73,155,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,73,0,27,37,55,47,47,47,47,47,47,47,47,47,55,46,10,10,156,247,7,48,48,8,73,0,0,0,10,10,10,10,10,10,10,10,10,10,0,82,7,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,7,237,73,0,18,28,37,37,37,37,37,37,37,37,37,37,37,37,82,82,164,7,48,48,48,8,73,0,0,64,64,64,64,64,64,64,65,10,10,0,0,82,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,247,82,73,0,0,0,0,10,0,0,0,0,0,0,0,0,0,10,82,7,8,48,48,48,48,48,8,73,0,64,137,137,137,137,137,137,137,76,13,14,11,0,82,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,247,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,82,8,48,48,48,48,48,48,8,73,0,64,73,137,137,137,137,137,137,77,15,15,11,0,82,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,247,73,0,73,137,75,76,13,76,137,137,137,137,73,0,0,91,238,7,48,48,48,48,48,48,48,8,73,0,64,73,137,137,137,137,137,137,76,14,15,11,0,82,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,48,247,73,0,137,137,139,77,15,77,137,137,137,137,73,64,0,164,48,48,48,48,48,48,48,48,48,8,73,0,64,73,137,137,137,137,137,137,76,14,15,11,0,82,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,48,48,8,247,82,73,137,138,76,77,15,77,137,137,137,137,73,64,0,164,48,48,48,48,48,48,48,48,48,8,73,0,64,73,137,137,137,137,137,138,76,14,15,12,10,82,7,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,247,164,82,91,118,118,118,118,102,31,15,77,137,137,137,137,73,64,0,164,48,48,48,48,48,48,48,48,48,8,73,0,64,137,137,137,137,146,118,118,119,119,119,39,15,14,74,82,247,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,247,91,10,27,118,127,127,119,111,31,23,77,138,137,137,137,73,73,82,164,48,48,48,48,48,48,48,48,48,8,82,73,73,137,137,137,137,146,118,127,126,126,118,38,15,14,10,74,247,7,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,247,91,0,73,146,147,86,31,39,111,111,110,173,109,73,73,155,164,7,8,48,48,48,48,48,48,48,48,48,48,7,247,155,73,73,91,173,109,82,146,146,146,146,146,138,75,13,13,84,83,82,247,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,247,155,0,64,4,129,70,15,31,111,119,127,127,118,10,0,155,247,48,48,48,48,48,48,48,48,48,48,48,48,48,8,164,82,82,100,118,118,137,4,4,4,4,136,136,138,14,14,11,0,73,164,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,247,155,73,73,137,138,78,15,85,84,155,155,155,155,0,0,155,247,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,7,247,100,27,27,0,0,0,0,0,0,0,0,11,10,0,0,10,173,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,247,155,73,73,137,138,79,15,77,139,201,137,137,137,0,0,155,247,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,8,164,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,164,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,247,155,0,73,137,138,78,15,76,138,137,137,137,137,0,0,155,247,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,173,73,73,73,73,73,73,73,73,73,73,73,73,73,73,73,247,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,247,91,0,0,72,73,11,12,11,73,72,73,73,64,0,0,91,247,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,7,155,164,164,164,164,164,164,164,164,164,164,164,164,164,164,7,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,247,155,73,73,73,73,74,10,73,73,73,73,73,73,73,73,155,247,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,48,48,48,48,7,7,247,247,247,247,247,247,247,247,247,247,247,247,247,247,7,8,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48



NUBE LABEL WORD
NX	dw	40
NY	dw	40
Nposx	dw	30
Nposy	dw	30
Nd  db 48,48,48,48,48,48,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,48,48,48,48,48,48
db 48,48,48,48,48,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,48,48,48,48
db 48,48,48,48,48,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,52,52,52,0,0,48,48,48,48,48
db 48,48,48,48,48,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,52,52,0,0,48,48,48,48,48
db 48,48,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,52,52,52,0,0,0,48,48
db 48,48,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,52,52,52,0,0,0,48,48
db 48,48,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,52,52,52,0,0,0,48,48
db 48,48,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,52,52,52,0,0,0,48,48
db 48,48,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,52,52,52,0,0,0,48,48
db 48,48,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,52,52,52,0,0,0,48,48
db 48,48,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,52,52,0,0,0,48,48
db 0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,0,0,0,15,15,15,15,0,0,0,15,15,15,15,15,15,15,15,15,52,0,0,0,0,0
db 0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,15,15,15,15,0,0,0,15,15,15,15,15,15,15,15,15,15,52,52,52,0,0
db 0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,15,15,15,15,0,0,0,15,15,15,15,15,15,15,15,15,15,52,52,52,0,0
db 0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,15,15,15,15,0,0,0,15,15,15,15,15,15,15,15,15,15,52,52,52,0,0
db 0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,15,15,15,15,0,0,0,15,15,15,15,15,15,15,15,15,15,52,52,52,0,0
db 0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,15,15,15,15,0,0,0,15,15,15,15,15,15,15,15,15,15,52,52,52,0,0
db 0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,15,15,15,15,0,0,0,15,15,15,15,15,15,15,15,15,15,52,52,52,0,0
db 0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,15,15,15,15,0,0,0,15,15,15,15,15,15,15,15,15,15,52,52,52,0,0
db 0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,15,15,15,15,0,0,0,15,15,15,15,15,15,15,15,15,15,52,52,52,0,0
db 0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,52,52,52,0,0
db 0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,52,52,52,0,0
db 0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,52,52,52,0,0
db 0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,52,52,52,0,0
db 0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,52,52,52,0,0
db 0,0,0,15,15,15,15,15,15,15,15,15,0,0,0,15,15,15,15,15,15,15,15,15,15,0,0,0,15,15,15,15,15,15,15,52,52,52,0,0
db 0,0,0,15,15,15,15,15,15,15,15,15,0,0,0,15,15,15,15,15,15,15,15,15,15,0,0,0,15,15,15,15,15,15,15,52,52,52,0,0
db 0,0,0,0,0,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,52,52,0,0,0,0,0
db 48,48,0,0,0,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,52,52,52,0,0,0,48,48
db 48,48,0,0,0,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,52,52,52,0,0,0,48,48
db 48,48,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,52,52,52,0,0,0,48,48
db 48,48,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,52,52,52,0,0,0,48,48
db 48,48,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,52,52,52,0,0,0,48,48
db 48,48,0,0,0,52,15,15,15,15,15,15,15,15,15,15,15,15,52,52,52,52,15,15,15,15,15,15,15,15,15,15,52,52,52,0,0,0,48,48
db 48,48,0,0,0,52,52,15,15,15,15,15,15,15,15,15,15,52,52,52,52,52,52,15,15,15,15,15,15,15,15,15,52,52,52,0,0,0,48,48
db 48,48,48,48,48,0,0,52,52,52,52,52,52,52,52,52,52,0,0,0,0,0,0,52,52,52,52,52,52,52,52,52,52,0,0,48,48,48,48,48
db 48,48,48,48,48,0,0,52,52,52,52,52,52,52,52,52,52,0,0,0,0,0,0,52,52,52,52,52,52,52,52,52,52,0,0,48,48,48,48,48
db 48,48,48,48,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,48,48,48,48
db 48,48,48,48,48,48,48,0,0,0,0,0,0,0,0,0,0,0,48,48,48,48,0,0,0,0,0,0,0,0,0,0,0,48,48,48,48,48,48,48
db 48,48,48,48,48,48,48,0,0,0,0,0,0,0,0,0,0,0,48,48,48,48,0,0,0,0,0,0,0,0,0,0,0,48,48,48,48,48,48,48
.386



.CODE
A10MAIN	PROC FAR
	MOV	AX, @DATA
	MOV	DS,AX
	MOV	ES,AX
	MOV	AH,0FH
	INT	10H	;Guardamos el modo anterior de video
	PUSH	AX 
	MOV AH, 2CH
	INT 21H	
	MOV LASTTIME, DH
	CALL B10MODE ;Cambiamos al modo grafico
	CALL F10SCROLL	;Pintamos el color cielo
A20:
	CMP REFRESH, 0	;Si no hay necesidad de repintar solamente revisamos el buffer 
	JE A30
	CALL F10SCROLL	;Limpiar pantalla y pintar color celeste
	CALL G10NUBES	;Pintar las nubes
	CALL E10DKIRBY	;Pintar al kirby
	CALL J10TEST	;Escribir texto
	MOV REFRESH,0	;Reestablecer el valor de refresh
A30:
	CALL I10TIME
	CALL H10MOVE	;Llamar al procedimiento de movimiento
	CMP EXIT, 1
	JE A90
	JMP A20
	MOV AH,10H
	INT 16H
A90:
	POP AX		;Obtener el modo de video que estaba antes
	MOV	AH, 00H
	INT	10H		;Regresar a ese modo de video
	MOV	AX,4C00H
	INT	21H
A10MAIN	ENDP

;Metodo para cambiar a modo 13h
B10MODE PROC NEAR
	MOV AX,0013H
	INT 10H
	MOV AH,0BH
	INT 10H
	RET
B10MODE ENDP

;Metodo para pintar una matriz de pixeles, espera la direccion del label en SI 
;El tamaño en x en SI[0]
;El tamaño en y en SI[2]
;La posicion en x en SI[4]
;La posicion en y en SI[6]
;La matriz en SI[8]
C10DISPLY PROC NEAR
	PUSHA	
	MOV	BX,00 		;Pagina 0
	MOV	CX,SI[4]	;Guardamos en CX la posicion a pintar en x
	MOV	DX,SI[6]	;Guardamos en en DX la coordenada en Y
	LEA	DI,SI[8]	;En DI la dirección de la matriz de pixeles
	MOV AX, SI[0]	;Copiamos a CX el valor del tamaño de la image
	ADD AX, SI[4]	;Sumamos la coordenada en X al tamaño de la imagen esto nos dara hasta donde tenemos que pintar en X
	MOV POSFX, AX	;Guardamos la suma en memoria
	MOV AX, SI[2]	;Hacemos lo mismo con la posición y la altura de la imagen
	ADD AX, SI[6]
	MOV POSFY, AX
C20:
	MOV AL, [DI]	;Cargamos el color en AL
	INC DI			;Incrementamos DI para movernos en la matriz
	MOV	AH, 0CH		;Instrucción de pintar pixel
	CMP	AL, 48		;Comparamos AL con el color de nuestra pantalla verde
	JE	C30			;Si es el mismo valor lo ignoramos saltando a C30
	INT 10H			;Si no fue igual ejecutamos la interrupcion para pintar
C30:
	INC CX			;Incrementamos CX que es el movimiento horizontal en la matriz, el valor inicial era la posicion de la imagen
	CMP CX, POSFX	;Comparamos CX con la suma entre la posición inicial y el largo de la imagen
	JNE	C20			;Si no es igual pintamos otra columna 
	MOV	CX,SI[4]	;Volvemos a inicializar el valor de CX
	INC	DX			;Repetimos el proceso con las filas, comparando DX con la suma entre la posicion original y el alto de la imagen
	CMP	DX,POSFY
	JNE	C20
	POPA
	RET
C10DISPLY ENDP

E10DKIRBY	PROC NEAR
	LEA SI, KIRBY
	CALL C10DISPLY
	RET
E10DKIRBY ENDP

F10SCROLL	PROC NEAR
	MOV AH, 06H
	MOV AL, 00H
	MOV BH, 100
	MOV	CX, 0000H
	MOV DX,	184FH
	INT 10H
	RET
F10SCROLL	ENDP

G10NUBES	PROC NEAR
	LEA SI, NUBE
	CALL C10DISPLY
	ADD Nposx, 70
	ADD Nposy, 40
	CALL C10DISPLY
	ADD Nposx, 70
	SUB Nposy, 40
	CALL C10DISPLY
	ADD Nposx, 70
	ADD Nposy, 40
	CALL C10DISPLY
	MOV Nposx, 0
	ADD Nposy, 40
	CALL C10DISPLY
	ADD Nposx, 70
	ADD Nposy, 40
	CALL C10DISPLY
	ADD Nposx, 70
	SUB Nposy, 40
	CALL C10DISPLY
	ADD Nposx, 70
	ADD Nposy, 40
	CALL C10DISPLY
	MOV Nposx, 30	;Reiniciar la posicion de las nubes
	MOV Nposy, 30
	RET
G10NUBES ENDP

H10MOVE	PROC NEAR
	MOV DL, 0FFH
	MOV AH, 06H  
	INT 21H	;Leer el buffer del teclado
	JZ	H90
	INT 21H
	CMP AL, 50H ;Presiono abajo
	JNE H20
	ADD KPOSY, 10
	JMP H60
H20:
	CMP AL, 4BH
	JNE H30
	SUB KPOSX, 10 ;Presiono izquierda
	JMP H60
H30:
	CMP AL, 48H
	JNE H40
	SUB KPOSY, 10 ;Presiono arriba
	JMP H60
H40:
	CMP AL, 4DH
	JNE H50
	ADD KPOSX, 10	;Presiono derecha
	JMP H60
H50:
	CMP AL,53H		;Salir
	JNE H90
	MOV EXIT, 1
	JMP H90
H60:
	MOV REFRESH,1
H90:
	RET
H10MOVE ENDP

I10TIME PROC NEAR
	MOV AH, 2CH
	INT 21H
	MOV AH, DH
	SUB AH, LASTTIME
	CMP AH, 1
	JB	I90
	MOV LASTTIME, DH
	CALL H10MOVE
	MOV AH,0CH
	INT 21H
I90:
	RET
I10TIME ENDP

J10TEST	PROC NEAR
	LEA		SI, TEXT
	MOV		AX,1300H	;Request display
	MOV		BX,07H	;Page and attribute
	MOV 	BP,SI		;Character string
	MOV 	CX,4 		;Length of string
	MOV 	DH, 24 		;Ro
	MOV 	DL,76	;Column
	INT 	10H 
	RET
J10TEST ENDP

	END A10MAIN
	
